{"version":3,"sources":["../../../../app/components/modal-window/ModalWindowView.js"],"names":["ModalWindowView","modalBinder","Binder","receivedDoc","downloadComponent","document","body","appendChild","getElementById","modalWindowController","subscribeAddTaskEvents","moveModalWindow","modalWindowView","attachDatePicker","index","fillEditModal","modalWindow","getModalWindowElements","taskContainer","task","titleInput","value","getElementsByClassName","innerHTML","descriptionInput","modalCheckboxes","querySelectorAll","priorityIndicator","j","checked","taskPriority","$","choosedRadioPriority","findChoosedPriority","choosedRadioCategory","findChoosedCategory","categoriesInputs","priorityInputs","subscribeModalEvents","getAttribute","allCategoriesNames","allCategoriesNamesArr","Array","prototype","slice","call","k","length","parentNode","indexOf","allPriorityLevels","allPriorityLevelsArr","toLowerCase","classList","data","categoryTitles","categoryLabels","datepicker","dateFormat"],"mappings":"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","file":"ModalWindowView-compiled.js","sourcesContent":["class ModalWindowView {\r\n\r\n    addTaskModal() {\r\n        let modalBinder = new Binder('app/components/modal-window/modal-window.html');\r\n        let receivedDoc = modalBinder.downloadComponent();\r\n        document.body.appendChild(receivedDoc.getElementById('modal-window-elem'));\r\n        modalWindowController.subscribeAddTaskEvents();\r\n        modalWindowController.moveModalWindow(50);\r\n        modalWindowView.attachDatePicker();\r\n    }\r\n\r\n    showEditModal(index) {\r\n        let modalBinder = new Binder('app/components/modal-window/edit-modal-window.html');\r\n        let receivedDoc = modalBinder.downloadComponent();\r\n        document.body.appendChild(receivedDoc.getElementById('modal-window-elem-edit'));\r\n        modalWindowView.fillEditModal(index);\r\n    }\r\n\r\n    downloadRemoveModalWindow() {\r\n        let modalBinder = new Binder('app/components/modal-window/remove-modal-window.html');\r\n        let receivedDoc = modalBinder.downloadComponent();\r\n        document.body.appendChild(receivedDoc.getElementById('modal-w-remove'));\r\n        modalWindowController.moveModalWindow(50);\r\n    }\r\n\r\n    fillEditModal(index) {\r\n        let modalWindow = modalWindowController.getModalWindowElements;\r\n        let taskContainer = modalWindow.task[index];\r\n        modalWindow.titleInput.value = taskContainer.getElementsByClassName('task-title')[0].innerHTML;\r\n        modalWindow.descriptionInput.value = taskContainer.getElementsByClassName('description-content')[0].innerHTML;\r\n\r\n        let modalCheckboxes = document.querySelectorAll('#modal-window-elem-edit input[type=checkbox]');\r\n        let priorityIndicator = document.querySelectorAll('.priority-indicator span')[index].innerHTML;\r\n        for (let j = 0; j < priorityIndicator; j++) {\r\n            modalCheckboxes[j].checked = true;\r\n        }\r\n        let taskPriority = $('.priority-indicator')[index];\r\n        let choosedRadioPriority = modalWindowView.findChoosedPriority(taskPriority);\r\n        let choosedRadioCategory = modalWindowView.findChoosedCategory(taskContainer);\r\n\r\n        modalWindow.categoriesInputs[choosedRadioCategory].checked = true;\r\n        modalWindow.priorityInputs[choosedRadioPriority].checked = true;\r\n\r\n        modalWindowController.subscribeModalEvents();\r\n        modalWindowController.moveModalWindow(50);\r\n        modalWindowView.attachDatePicker();\r\n    };\r\n\r\n    findChoosedCategory(taskContainer) {\r\n        let choosedRadioCategory = taskContainer.getAttribute('category');\r\n        let allCategoriesNames = $('.categories li label.category-name');\r\n        let allCategoriesNamesArr = Array.prototype.slice.call(allCategoriesNames);\r\n        for (let k = 0; k < allCategoriesNamesArr.length; k++) {\r\n            if (allCategoriesNamesArr[k].innerHTML == taskContainer.parentNode.getAttribute('category')) {\r\n                choosedRadioCategory = allCategoriesNamesArr.indexOf(allCategoriesNamesArr[k]);\r\n            }\r\n            else if (choosedRadioCategory == null) {\r\n                choosedRadioCategory = 0;\r\n            }\r\n        }\r\n        return choosedRadioCategory;\r\n    }\r\n\r\n    findChoosedPriority(taskPriority) {\r\n        let allPriorityLevels = $('.priorities li label.priority-name');\r\n        let choosedRadioPriority;\r\n        let allPriorityLevelsArr = Array.prototype.slice.call(allPriorityLevels);\r\n        for (let k = 0; k < allPriorityLevelsArr.length; k++) {\r\n            if (allPriorityLevelsArr[k].innerHTML.toLowerCase() == taskPriority.classList[1]) {\r\n                choosedRadioPriority = allPriorityLevelsArr.indexOf(allPriorityLevelsArr[k]);\r\n            }\r\n        }\r\n        return choosedRadioPriority;\r\n    }\r\n\r\n    renderEarlierSavedCategories(data, k) {\r\n        let modalWindow = modalWindowController.getModalWindowElements;\r\n        modalWindow.categoryTitles[k].value = data;\r\n        modalWindow.categoryLabels[k].innerHTML = modalWindow.categoryTitles[k].value;\r\n    }\r\n\r\n    attachDatePicker() {\r\n        $(function () {\r\n            $(\"#datepicker\").datepicker({\r\n                dateFormat: 'dd.mm.yy'\r\n            });\r\n        });\r\n    };\r\n}\r\n\r\nlet modalWindowView = new ModalWindowView();"]}