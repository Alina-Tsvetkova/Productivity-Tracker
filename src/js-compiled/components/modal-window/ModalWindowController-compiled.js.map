{"version":3,"sources":["../../../../app/components/modal-window/ModalWindowController.js"],"names":["ModalWindowController","modalWindowModel","downloadEarlierCategories","modalWindowView","addTaskModal","index","showEditModal","data","k","renderEarlierSavedCategories","child","modalWindowController","moveModalWindow","setTimeout","document","body","removeChild","coord","getElementsByClassName","style","top","ElementsListener","listenToEvents","closeModalWindow","getElementById","productivityManager","saveEditedTask","submitTask","modalElements","removeBtn","taskDeletorObj","submitDeleteTask","cancelBtn","cancelDeletion","task","querySelectorAll","titleInput","descriptionInput","categoryRadioBtn","querySelector","deadlineInput","estimationCheckboxes","length","priorityRadioBtn","categoryTitles","categoryLabels","categoriesInputs","priorityInputs"],"mappings":";;;;;;IAAMA,qB;;;;;;;0CAEgB;AAAE;AAChBC,6BAAiBC,yBAAjB;AACAC,4BAAgBC,YAAhB;AACH;;;4CAEmBC,K,EAAO;AAAE;AACzBJ,6BAAiBC,yBAAjB;AACAC,4BAAgBG,aAAhB,CAA8BD,KAA9B;AACH;;;0CAkBiBE,I,EAAMC,C,EAAG;AACvB,gBAAI,CAAED,IAAN,EAAa;AACT,uBAAO,KAAP;AACH;;AAEDJ,4BAAgBM,4BAAhB,CAA6CF,IAA7C,EAAmDC,CAAnD;AACH;;;yCAEgBE,K,EAAO;AACpBC,kCAAsBC,eAAtB,CAAsC,CAAC,EAAvC;AACAC,uBAAW,YAAY;AACnBC,yBAASC,IAAT,CAAcC,WAAd,CAA0BN,KAA1B;AACH,aAFD,EAEG,GAFH;AAIH;;;wCAEeO,K,EAAO;AACnBJ,uBAAW,YAAY;AACnBC,yBAASI,sBAAT,CAAgC,gBAAhC,EAAkD,CAAlD,EAAqDC,KAArD,CAA2DC,GAA3D,GAAiEH,QAAQ,GAAzE;AACH,aAFD,EAEG,GAFH;;AAIA,mBAAOA,KAAP;AACH;;;+CAEsB;AACnBI,6BAAiBC,cAAjB,CAAgC,OAAhC,EAAyCR,SAASI,sBAAT,CAAgC,cAAhC,CAAzC,EAA0F,YAAY;AAClGP,sCAAsBY,gBAAtB,CAAuCT,SAASU,cAAT,CAAwB,wBAAxB,CAAvC;AACH,aAFD;;AAIAH,6BAAiBC,cAAjB,CAAgC,OAAhC,EAAyCR,SAASI,sBAAT,CAAgC,mBAAhC,CAAzC,EAA+F,YAAY;AACvGO,oCAAoBC,cAApB,CAAmCrB,KAAnC;AACH,aAFD;AAGH;;;iDAEwB;AACrBgB,6BAAiBC,cAAjB,CAAgC,OAAhC,EAAyCR,SAASI,sBAAT,CAAgC,eAAhC,CAAzC,EAA2FO,oBAAoBE,UAA/G;AACAN,6BAAiBC,cAAjB,CAAgC,OAAhC,EAAyCR,SAASI,sBAAT,CAAgC,cAAhC,CAAzC,EAA0F,YAAY;AAClGP,sCAAsBY,gBAAtB,CAAuCT,SAASU,cAAT,CAAwB,mBAAxB,CAAvC;AACH,aAFD;AAGH;;;uDAE8BI,a,EAAe;AAC1CP,6BAAiBC,cAAjB,CAAgC,OAAhC,EAAyCM,cAAcC,SAAvD,EAAkEC,eAAeC,gBAAjF;AACAV,6BAAiBC,cAAjB,CAAgC,OAAhC,EAAyCM,cAAcI,SAAvD,EAAkEF,eAAeG,cAAjF;AACH;;;4BA5D4B;AACzB,mBAAO;AACHC,sBAAMpB,SAASqB,gBAAT,CAA0B,OAA1B,CADH;AAEHC,4BAAYtB,SAASI,sBAAT,CAAgC,aAAhC,EAA+C,CAA/C,CAFT;AAGHmB,kCAAkBvB,SAASI,sBAAT,CAAgC,mBAAhC,EAAqD,CAArD,CAHf;AAIHoB,kCAAkBxB,SAASyB,aAAT,CAAuB,8CAAvB,CAJf;AAKHC,+BAAe1B,SAASI,sBAAT,CAAgC,gBAAhC,EAAkD,CAAlD,CALZ;AAMHuB,sCAAsB3B,SAASqB,gBAAT,CAA0B,gCAA1B,EAA4DO,MAN/E;AAOHC,kCAAkB7B,SAASyB,aAAT,CAAuB,sDAAvB,CAPf;AAQHK,gCAAgB9B,SAASqB,gBAAT,CAA0B,mCAA1B,CARb;AASHU,gCAAgB/B,SAASqB,gBAAT,CAA0B,mCAA1B,CATb;AAUHW,kCAAkBhC,SAASqB,gBAAT,CAA0B,2BAA1B,CAVf;AAWHY,gCAAgBjC,SAASqB,gBAAT,CAA0B,4BAA1B;AAXb,aAAP;AAaH;;;;;;AAiDL,IAAIxB,wBAAwB,IAAIX,qBAAJ,EAA5B","file":"ModalWindowController-compiled.js","sourcesContent":["class ModalWindowController {\r\n\r\n    initModalWindow() { // start module of Modal Window\r\n        modalWindowModel.downloadEarlierCategories();\r\n        modalWindowView.addTaskModal();\r\n    }\r\n\r\n    initEditModalWindow(index) { // start module of Modal Edit Window\r\n        modalWindowModel.downloadEarlierCategories();\r\n        modalWindowView.showEditModal(index);\r\n    }\r\n\r\n    get getModalWindowElements() {\r\n        return {\r\n            task: document.querySelectorAll('.task'),\r\n            titleInput: document.getElementsByClassName('title-input')[0],\r\n            descriptionInput: document.getElementsByClassName('description-input')[0],\r\n            categoryRadioBtn: document.querySelector('input.category-input:checked + label + label'),\r\n            deadlineInput: document.getElementsByClassName('deadline-input')[0],\r\n            estimationCheckboxes: document.querySelectorAll('input[type=\"checkbox\"]:checked').length,\r\n            priorityRadioBtn: document.querySelector('input[name=\"priority-level\"]:checked + label + label'),\r\n            categoryTitles: document.querySelectorAll('.categories-names .category-input'),\r\n            categoryLabels: document.querySelectorAll('.categories-names .category-title'),\r\n            categoriesInputs: document.querySelectorAll('input[name=category-name]'),\r\n            priorityInputs: document.querySelectorAll('input[name=priority-level]')\r\n        }\r\n    }\r\n\r\n    transitCategories(data, k) {\r\n        if (!(data)) {\r\n            return false;\r\n        }\r\n\r\n        modalWindowView.renderEarlierSavedCategories(data, k);\r\n    }\r\n\r\n    closeModalWindow(child) {\r\n        modalWindowController.moveModalWindow(-50);\r\n        setTimeout(function () {\r\n            document.body.removeChild(child);\r\n        }, 500)\r\n\r\n    }\r\n\r\n    moveModalWindow(coord) {\r\n        setTimeout(function () {\r\n            document.getElementsByClassName('add-task-modal')[0].style.top = coord + '%';\r\n        }, 100)\r\n\r\n        return coord;\r\n    }\r\n\r\n    subscribeModalEvents() {\r\n        ElementsListener.listenToEvents('click', document.getElementsByClassName('close-button'), function () {\r\n            modalWindowController.closeModalWindow(document.getElementById('modal-window-elem-edit'));\r\n        });\r\n\r\n        ElementsListener.listenToEvents('click', document.getElementsByClassName('check-button-edit'), function () {\r\n            productivityManager.saveEditedTask(index)\r\n        });\r\n    }\r\n\r\n    subscribeAddTaskEvents() {\r\n        ElementsListener.listenToEvents('click', document.getElementsByClassName('icon-add-task'), productivityManager.submitTask);\r\n        ElementsListener.listenToEvents('click', document.getElementsByClassName('close-button'), function () {\r\n            modalWindowController.closeModalWindow(document.getElementById('modal-window-elem'));\r\n        });\r\n    }\r\n\r\n    subscribeRemoveTaskModalEvents(modalElements) {\r\n        ElementsListener.listenToEvents('click', modalElements.removeBtn, taskDeletorObj.submitDeleteTask);\r\n        ElementsListener.listenToEvents('click', modalElements.cancelBtn, taskDeletorObj.cancelDeletion);\r\n    }\r\n}\r\n\r\nlet modalWindowController = new ModalWindowController();"]}