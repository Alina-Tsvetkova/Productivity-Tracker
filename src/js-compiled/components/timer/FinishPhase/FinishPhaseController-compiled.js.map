{"version":3,"sources":["../../../../../app/components/timer/FinishPhase/FinishPhaseController.js"],"names":["FinishPhaseController","timerElements","Timer","initializeTimerElements","clearTimerElements","timerContainer","activeTimer","finishPhaseView","downloadCompletedTimer","timerKey","breakTimerAttempts","breakTimer","receivedElem","timer","downloadTimerComponents","appendChild","getElementsByClassName","borderColorIndex","receiveColorIndex","addBorderColor","introCompleted","failedWrap","finishPhaseModel","sendDataTaskFailed","removeEstimation","classManager","removeClass","startPomodoraButton","ElementsListener","listenToEvents","workPhaseController","startPomodora","Date","getDate","parseInt","getMonth","getFullYear","sendDataTaskDone","finishPhaseController"],"mappings":";;;;;;IAAMA,qB;;;;;;;uCACa;AACX,gBAAIC,gBAAgBC,MAAMC,uBAA1B;AACAD,kBAAME,kBAAN,CAAyBH,cAAcI,cAAvC,EAAuDJ,cAAcK,WAArE;AACAC,4BAAgBC,sBAAhB,CAAuCC,QAAvC;AACAC,iCAAqB,CAArB;AACH;;;mCAEUD,Q,EAAU;AACjB,gBAAIR,gBAAgBC,MAAMC,uBAA1B;AACAD,kBAAME,kBAAN,CAAyBH,cAAcI,cAAvC,EAAuDJ,cAAcU,UAArE;AACAJ,4BAAgBC,sBAAhB,CAAuCC,QAAvC;;AAEAC,iCAAqB,CAArB;AACH;;;mCAEU;AACP,gBAAIT,gBAAgBC,MAAMC,uBAA1B;AACA,gBAAIS,eAAeC,MAAMC,uBAAN,CAA8B,qDAA9B,CAAnB;AACAZ,kBAAME,kBAAN,CAAyBH,cAAcI,cAAvC,EAAuDJ,cAAcK,WAArE;AACAL,0BAAcI,cAAd,CAA6BU,WAA7B,CAAyCH,aAAaI,sBAAb,CAAoC,sBAApC,EAA4D,CAA5D,CAAzC;AACA,gBAAIC,mBAAmBJ,MAAMK,iBAAN,CAAwBT,QAAxB,CAAvB;AACAI,kBAAMM,cAAN,CAAqBlB,cAAcmB,cAAd,CAA6B,CAA7B,CAArB,EAAsDH,gBAAtD;AACAJ,kBAAMM,cAAN,CAAqBlB,cAAcoB,UAAd,CAAyB,CAAzB,CAArB,EAAkDJ,gBAAlD;AACAK,6BAAiBC,kBAAjB,CAAoCd,QAApC;AACAF,4BAAgBiB,gBAAhB;AACAd,iCAAqB,CAArB;AACH;;;8CAEqB;AAClB,gBAAIT,gBAAgBC,MAAMC,uBAA1B;AACAsB,yBAAaC,WAAb,CAAyBzB,cAAc0B,mBAAd,CAAkC,CAAlC,CAAzB,EAA+D,kBAA/D;AACAC,6BAAiBC,cAAjB,CAAgC,OAAhC,EAAyC5B,cAAc0B,mBAAvD,EAA4EG,oBAAoBC,aAAhG;AACH;;;kDAEyB;AACtB,mBAAO,IAAIC,IAAJ,GAAWC,OAAX,KAAuB,GAAvB,GAA6BC,SAAS,IAAIF,IAAJ,GAAWG,QAAX,KAAwB,CAAjC,CAA7B,GAAmE,GAAnE,GAAyE,IAAIH,IAAJ,GAAWI,WAAX,EAAhF;AACH;;;+CAEsB3B,Q,EAAU;AAC7Ba,6BAAiBe,gBAAjB,CAAkC5B,QAAlC;AACH;;;;;;AAGL,IAAI6B,wBAAwB,IAAItC,qBAAJ,EAA5B","file":"FinishPhaseController-compiled.js","sourcesContent":["class FinishPhaseController {\r\n    completeTask() {\r\n        let timerElements = Timer.initializeTimerElements;\r\n        Timer.clearTimerElements(timerElements.timerContainer, timerElements.activeTimer);\r\n        finishPhaseView.downloadCompletedTimer(timerKey);\r\n        breakTimerAttempts = 0;\r\n    }\r\n\r\n    finishTask(timerKey) {\r\n        let timerElements = Timer.initializeTimerElements;\r\n        Timer.clearTimerElements(timerElements.timerContainer, timerElements.breakTimer);\r\n        finishPhaseView.downloadCompletedTimer(timerKey);\r\n\r\n        breakTimerAttempts = 0;\r\n    }\r\n\r\n    failTask() {\r\n        let timerElements = Timer.initializeTimerElements;\r\n        let receivedElem = timer.downloadTimerComponents('app/components/timer/timer-states/failed-timer.html');\r\n        Timer.clearTimerElements(timerElements.timerContainer, timerElements.activeTimer);\r\n        timerElements.timerContainer.appendChild(receivedElem.getElementsByClassName('timer-failed-wrapper')[0]);\r\n        let borderColorIndex = timer.receiveColorIndex(timerKey);\r\n        timer.addBorderColor(timerElements.introCompleted[0], borderColorIndex);\r\n        timer.addBorderColor(timerElements.failedWrap[0], borderColorIndex);\r\n        finishPhaseModel.sendDataTaskFailed(timerKey);\r\n        finishPhaseView.removeEstimation();\r\n        breakTimerAttempts = 0;\r\n    }\r\n\r\n    addStartPomodoraBtn() {\r\n        let timerElements = Timer.initializeTimerElements;\r\n        classManager.removeClass(timerElements.startPomodoraButton[0], 'non-visible-elem');\r\n        ElementsListener.listenToEvents('click', timerElements.startPomodoraButton, workPhaseController.startPomodora);\r\n    }\r\n\r\n    receiveDateOfTaskFinish() {\r\n        return new Date().getDate() + '.' + parseInt(new Date().getMonth() + 1) + '.' + new Date().getFullYear();\r\n    }\r\n\r\n    transitFinishPhaseData(timerKey) {\r\n        finishPhaseModel.sendDataTaskDone(timerKey);\r\n    }\r\n}\r\n\r\nlet finishPhaseController = new FinishPhaseController();"]}