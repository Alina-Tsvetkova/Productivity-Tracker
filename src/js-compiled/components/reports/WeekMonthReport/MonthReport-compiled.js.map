{"version":3,"sources":["../../../../../app/components/reports/WeekMonthReport/MonthReport.js"],"names":["monthAndCounterBinding","Array","MonthReport","id","chartData","chartCategories","columnWidth","key","l","finishDate","priority","today","taskElementController","addDefaultData","parsedDate","split","parsedFinishedDate","indexReport","weekMonthReportModel","sendUpdatedReportsData","e","difference","monthChartData","name","data"],"mappings":"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","file":"MonthReport-compiled.js","sourcesContent":["let monthAndCounterBinding = {\r\n    'Urgent': new Array(30),\r\n    'Middle': new Array(30),\r\n    'High': new Array(30),\r\n    'Low': new Array(30),\r\n    'Failed': new Array(30)\r\n};\r\n\r\nclass MonthReport {\r\n    constructor(id, chartData, chartCategories, columnWidth) {\r\n        this.id = id;\r\n        this.chartData = chartData;\r\n        this.chartCategories = chartCategories;\r\n        this.columnWidth = columnWidth;\r\n    }\r\n\r\n    initializeMonthCounter() {\r\n        for (let key in monthAndCounterBinding) {\r\n            for (let l = 0; l <= 30; l++) {\r\n                monthAndCounterBinding[key][l] = 0;\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n    countPositionFromToday(finishDate, priority) {\r\n        let today = taskElementController.addDefaultData(); // i.e 7.2.2017\r\n        let parsedDate = today.split('.')[0];\r\n        let parsedFinishedDate = finishDate.split('.')[0];\r\n        let indexReport;\r\n        if (parsedDate - parsedFinishedDate == 0) {\r\n            indexReport = 30;\r\n            try {\r\n                for (let key in monthAndCounterBinding) {\r\n                    if (priority == key) {\r\n                        monthAndCounterBinding[key][indexReport]++;\r\n                        weekMonthReportModel.sendUpdatedReportsData(indexReport, monthAndCounterBinding[key][indexReport], priority);\r\n                    }\r\n                }\r\n            } catch (e) {\r\n                return \"can not create property\";\r\n            }\r\n        }\r\n        else {\r\n            let difference = parsedDate - parsedFinishedDate;\r\n            if (difference < 0) {\r\n                difference = 31 + difference + 1;\r\n            }\r\n            indexReport = 30 - difference;\r\n            try {\r\n                for (let key in monthAndCounterBinding) {\r\n                    if (priority == key) {\r\n                        monthAndCounterBinding[key][indexReport]++;\r\n                        weekMonthReportModel.sendUpdatedReportsData(indexReport, monthAndCounterBinding[key][indexReport], priority);\r\n                    }\r\n                }\r\n            } catch (e) {\r\n                return \"can not create property\";\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nlet monthChartData = new MonthReport('container-month-report', [{\r\n        name: 'Urgent',\r\n        data: null\r\n    }, {\r\n        name: 'High',\r\n        data: null\r\n    }, {\r\n        name: 'Middle',\r\n        data: null\r\n    }, {\r\n        name: 'Low',\r\n        data: null\r\n    }, {\r\n        name: 'Failed',\r\n        data: null\r\n    }],\r\n    ['1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', '12', '13', '14', '15', '16', '17', '18', '19', '20', '21', '22', '23', '24',\r\n        '25', '26', '27', '28', '29', '30', '31'\r\n    ], 10);\r\n\r\n"]}