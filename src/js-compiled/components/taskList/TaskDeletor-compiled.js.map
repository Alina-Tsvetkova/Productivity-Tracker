{"version":3,"sources":["../../../../app/components/taskList/TaskDeletor.js"],"names":["selectedTaskHashes","Set","TaskDeletor","clear","taskDeletorObj","removeIndicatorOfQuantityDel","deleteElements","deleteTaskObj","modalWindowController","closeModalWindow","document","getElementById","j","indicator","length","classList","remove","add","TaskNotification","createNotification","taskListElements","TaskList","getTaskListElements","l","h","quantityOfSelectedTasks","innerHTML","style","display","event","target","contains","parentNode","getAttribute","size","e","selectedTaskHash","firebase","database","ref","RegistrationModel","getUserDataLocally","taskElementController","checkIfTaskListEmpty","modalElements","querySelector","modalWindowView","downloadRemoveModalWindow","subscribeRemoveTaskModalEvents","givePossibilityToDelete","getElementsByClassName","removeBtn","cancelBtn"],"mappings":"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","file":"TaskDeletor-compiled.js","sourcesContent":["let selectedTaskHashes = new Set();\r\nclass TaskDeletor  {\r\n\r\n    get deleteTaskObj() {\r\n        return {\r\n            indicator: document.getElementsByClassName('indicator'),\r\n            removeBtn: document.getElementsByClassName('remove-btn'),\r\n            cancelBtn: document.getElementsByClassName('cancel-btn')\r\n        }\r\n    }\r\n\r\n    cancelDeletion() {\r\n        selectedTaskHashes.clear();\r\n        taskDeletorObj.removeIndicatorOfQuantityDel();\r\n        let deleteElements = taskDeletorObj.deleteTaskObj;\r\n        modalWindowController.closeModalWindow(document.getElementById('modal-w-remove'));\r\n        for (let j = 0; j < deleteElements.indicator.length; j++) {\r\n            deleteElements.indicator[j].classList.remove('for-delete', 'for-delete-bg');\r\n            deleteElements.indicator[j].classList.add('canceled-delete');\r\n        }\r\n        TaskNotification.createNotification('.message-info');\r\n    }\r\n\r\n    givePossibilityToDelete() {\r\n        let taskListElements = TaskList.getTaskListElements;\r\n        let deleteElements = taskDeletorObj.deleteTaskObj;\r\n        for (let l = 0; l < deleteElements.indicator.length; l++) {\r\n            deleteElements.indicator[l].classList.remove('canceled-delete');\r\n            deleteElements.indicator[l].classList.add('for-delete');\r\n        }\r\n        for (let h = 0; h < taskListElements.quantityOfSelectedTasks.length; h++) {\r\n            if (taskListElements.quantityOfSelectedTasks[h].innerHTML === '') {\r\n                taskListElements.quantityOfSelectedTasks[h].style.display = 'block';\r\n                taskListElements.quantityOfSelectedTasks[h].innerHTML = 0;\r\n            }\r\n        }\r\n    }\r\n\r\n    pushTaskToDelete(event) {\r\n        let taskListElements = TaskList.getTaskListElements;\r\n        try {\r\n            if (event.target.classList.contains('indicator')) {\r\n                event.target.classList.add('for-delete-bg');\r\n                selectedTaskHashes.add(event.target.parentNode.parentNode.getAttribute('taskKey'));\r\n                let quantityOfSelectedTasks = selectedTaskHashes.size;\r\n                for (let l = 0; l < taskListElements.quantityOfSelectedTasks.length; l++) {\r\n                    taskListElements.quantityOfSelectedTasks[l].style.display = 'block';\r\n                    taskListElements.quantityOfSelectedTasks[l].innerHTML = quantityOfSelectedTasks;\r\n                }\r\n            }\r\n        } catch (e) {\r\n            return \"Element is undefined\";\r\n        }\r\n\r\n    }\r\n\r\n    submitDeleteTask() {\r\n        for (let selectedTaskHash of selectedTaskHashes) {\r\n            firebase.database().ref('users/' + RegistrationModel.getUserDataLocally() + '/tasks/' + selectedTaskHash).remove();\r\n        }\r\n        modalWindowController.closeModalWindow(document.getElementById('modal-w-remove'));\r\n        taskDeletorObj.removeIndicatorOfQuantityDel();\r\n        selectedTaskHashes.clear();\r\n        taskElementController.checkIfTaskListEmpty();\r\n        TaskNotification.createNotification('.message-delete');\r\n    }\r\n\r\n\r\n\r\n    checkIfToDeleteTasks() {\r\n        let modalElements = taskDeletorObj.deleteTaskObj;\r\n        if (document.querySelector('.quantity-del-tasks').innerHTML > 0) {\r\n            modalWindowView.downloadRemoveModalWindow();\r\n            modalWindowController.subscribeRemoveTaskModalEvents(modalElements);\r\n        }\r\n        taskDeletorObj.givePossibilityToDelete();\r\n    }\r\n\r\n\r\n    removeIndicatorOfQuantityDel() {\r\n        let taskListElements = TaskList.getTaskListElements;\r\n        for (let j = 0; j < taskListElements.quantityOfSelectedTasks.length; j++) {\r\n            taskListElements.quantityOfSelectedTasks[j].innerHTML = 0;\r\n            taskListElements.quantityOfSelectedTasks[j].style.display = 'none';\r\n        }\r\n    }\r\n}\r\n\r\n\r\nlet taskDeletorObj = new TaskDeletor();"]}