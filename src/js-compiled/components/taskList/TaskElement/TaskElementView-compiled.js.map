{"version":3,"sources":["../../../../../app/components/taskList/TaskElement/TaskElementView.js"],"names":["counterOfTasks","notificationCounter","TaskElementView","reports","receiveReportsStatistics","document","getElementById","innerHTML","taskBinder","Binder","docTask","downloadComponent","data","dataKey","bool","renderedTask","thisCategory","category","taskElementView","createCategoryGroup","colorIndicator","setTimeout","fillTaskContainer","taskObj","taskElementController","taskElementsObj","taskTitle","title","classList","add","priority","toLowerCase","descriptionContent","description","splitedArray","deadline","split","trimDateDeadline","monthDeadlineElem","generateWordMonth","priorityIndicator","priorityIndicatorSpan","estimation","addAttributesToTask","attributesObj","taskIsDone","key","task","setAttribute","e","subscribeTaskEvents","checkIfALLTasksAreDone","taskElements","zeroDelete","dayDeadline","ul","getElementsByClassName","indicator","createElement","h3","appendChild","appendTask","notifyAboutMissedDeadlines","addDoneClasses","addColorsToCategories","doneTasks","j","length","style","display","removeMoveTaskBtn","container","allCategories","querySelectorAll","getAttribute"],"mappings":"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","file":"TaskElementView-compiled.js","sourcesContent":["let counterOfTasks = 0;\r\nlet notificationCounter = 0;\r\nclass TaskElementView {\r\n\r\n    clearContainers() {\r\n        reports.receiveReportsStatistics();\r\n        document.getElementById('globalTasks').innerHTML = '';\r\n        document.getElementById('tab2').innerHTML = '';\r\n        counterOfTasks = 0;\r\n    }\r\n\r\n    downloadTaskComponent() {\r\n        let taskBinder = new Binder('app/components/taskList/task/task.html');\r\n        let docTask = taskBinder.downloadComponent();\r\n        return docTask;\r\n    }\r\n\r\n    fillTaskWithInformation(docTask, data, dataKey,bool) {\r\n        let renderedTask;\r\n\r\n        if (!(bool)) {\r\n            renderedTask = data[dataKey];\r\n        }\r\n        else if (bool) {\r\n            renderedTask = data;\r\n        }\r\n\r\n        let thisCategory = renderedTask.category;\r\n        taskElementView.createCategoryGroup(thisCategory, docTask, renderedTask.colorIndicator, renderedTask, dataKey);\r\n\r\n        setTimeout(function () {\r\n            (function fillTaskContainer(dataKey) {\r\n                try {\r\n                    let taskObj = taskElementController.taskElementsObj;\r\n                    taskObj.taskTitle[counterOfTasks].innerHTML = renderedTask.title;\r\n                    taskObj.taskTitle[counterOfTasks].classList.add(renderedTask.priority.toLowerCase() + '-sign');\r\n                    taskObj.descriptionContent[counterOfTasks].innerHTML = renderedTask.description;\r\n                    let splitedArray = renderedTask.deadline.split('.');\r\n                    taskElementView.trimDateDeadline(splitedArray);\r\n                    taskObj.monthDeadlineElem[counterOfTasks].innerHTML = taskElementController.generateWordMonth(splitedArray);\r\n                    taskObj.priorityIndicator[counterOfTasks].classList.add(renderedTask.priority.toLowerCase());\r\n                    taskObj.priorityIndicatorSpan[counterOfTasks].innerHTML = renderedTask.estimation;\r\n\r\n                    (function addAttributesToTask() {\r\n                        let attributesObj = {\r\n                            'color-category': renderedTask.colorIndicator,\r\n                            'taskKey': dataKey,\r\n                            'taskisdone': renderedTask.taskIsDone\r\n                        };\r\n                        for (let key in attributesObj) {\r\n                            taskObj.task[counterOfTasks].setAttribute(key, attributesObj[key]);\r\n                        }\r\n                        counterOfTasks++;\r\n                    }());\r\n                }\r\n                catch (e) {\r\n                    return false;\r\n                }\r\n            }(dataKey));\r\n        }, 50);\r\n        taskElementController.subscribeTaskEvents();\r\n        taskElementController.checkIfALLTasksAreDone();\r\n    }\r\n\r\n    trimDateDeadline(splitedArray) {\r\n        let taskElements = taskElementController.taskElementsObj;\r\n        let zeroDelete = splitedArray[0].split('');\r\n        if (zeroDelete[0] == 0) {\r\n            taskElements.dayDeadline[counterOfTasks].innerHTML = zeroDelete[1];\r\n        }\r\n        else {\r\n            taskElements.dayDeadline[counterOfTasks].innerHTML = splitedArray[0];\r\n        }\r\n    }\r\n\r\n    removeMoveTaskBtn(ul) {\r\n        ul.getElementsByClassName('move-task')[0].classList.add('non-visible-elem');\r\n    }\r\n\r\n    createCategoryGroup(category, docTask, indicator, renderedTask) {\r\n        try {\r\n            let ul = document.createElement('ul');\r\n            ul.setAttribute('category', category);\r\n            let h3 = document.createElement('h3');\r\n            h3.innerHTML = category;\r\n            h3.classList.add('categorized-ul-title');\r\n            ul.appendChild(h3);\r\n            ul.classList.add('categorized-ul');\r\n            ul.appendChild(docTask.getElementsByClassName('task')[0]);\r\n\r\n            if (renderedTask.taskIsDone == false) {\r\n                taskElementView.appendTask('globalTasks', ul);\r\n                taskElementController.notifyAboutMissedDeadlines(renderedTask.deadline);\r\n            }\r\n            else if (renderedTask.taskIsDone == true) {\r\n                taskElementView.addDoneClasses(ul);\r\n            }\r\n\r\n            ul.setAttribute('color-category', indicator);\r\n            taskElementView.addColorsToCategories();\r\n        }\r\n        catch (e) {\r\n            return false;\r\n        }\r\n    }\r\n\r\n    addDoneClasses(ul) {\r\n        taskElementView.appendTask('tab2', ul);\r\n        ul.getElementsByClassName('task')[0].classList.add('done-task');\r\n        let doneTasks = document.getElementsByClassName('done-task');\r\n        for (let j = 0; j < doneTasks.length; j++) {\r\n            doneTasks[j].getElementsByClassName('edit')[0].style.display = 'none';\r\n            doneTasks[j].getElementsByClassName('indicator-wrapper')[0].style.display = 'none';\r\n            taskElementView.removeMoveTaskBtn(ul);\r\n        }\r\n    }\r\n\r\n    appendTask(container, ul) {\r\n        document.getElementById(container).appendChild(ul);\r\n        return 'Element is appended';\r\n    }\r\n\r\n    addColorsToCategories() {\r\n        let allCategories = document.querySelectorAll('.categorized-ul');\r\n        for (let j = 0; j < allCategories.length; j++) {\r\n            if (allCategories[j].getAttribute('color-category') == 0) {\r\n                allCategories[j].classList.add('work-group');\r\n                allCategories[j].getElementsByClassName('categorized-ul-title')[0].classList.add('work-group-title');\r\n            }\r\n            else if (allCategories[j].getAttribute('color-category') == 1) {\r\n                allCategories[j].classList.add('education-group');\r\n                allCategories[j].getElementsByClassName('categorized-ul-title')[0].classList.add('education-group-title');\r\n            }\r\n            else if (allCategories[j].getAttribute('color-category') == 2) {\r\n                allCategories[j].classList.add('hobby-group');\r\n                allCategories[j].getElementsByClassName('categorized-ul-title')[0].classList.add('hobby-group-title');\r\n            }\r\n            else if (allCategories[j].getAttribute('color-category') == 3) {\r\n                allCategories[j].classList.add('sport-group');\r\n                allCategories[j].getElementsByClassName('categorized-ul-title')[0].classList.add('sport-group-title');\r\n            }\r\n\r\n            else if (allCategories[j].getAttribute('color-category') == 4) {\r\n                allCategories[j].classList.add('other-group');\r\n                allCategories[j].getElementsByClassName('categorized-ul-title')[0].classList.add('other-group-title');\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nlet taskElementView = new TaskElementView();"]}