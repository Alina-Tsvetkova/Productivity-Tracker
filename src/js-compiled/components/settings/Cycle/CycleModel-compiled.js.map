{"version":3,"sources":["../../../../../app/components/settings/Cycle/CycleModel.js"],"names":["CycleModel","userId","event","cycleController","getDataForCycle","firebase","database","ref","update","cycle","workTime","workIteration","shortBreak","longBreak","Settings","notifyAboutSuccessfulSave","savedCycle","saveUserCycle","localStorage","getItem","cycleReceiver","on","data","receiveCycleDataForRender","val"],"mappings":";;;;;;IAAMA,U;;;;;;;sCAMYC,M,EAAOC,K,EAAO;AACxBC,4BAAgBC,eAAhB;AACAC,qBAASC,QAAT,GAAoBC,GAApB,CAAwB,WAAWN,MAAnC,EAA2CO,MAA3C,CAAkD;AAC9CC,uBAAO;AACH,gCAAYN,gBAAgBO,QADzB;AAEH,qCAAiBP,gBAAgBQ,aAF9B;AAGH,kCAAcR,gBAAgBS,UAH3B;AAIH,iCAAaT,gBAAgBU;AAJ1B;AADuC,aAAlD;;AASAC,qBAASC,yBAAT,CAAmCb,KAAnC;AACH;;;oCAjBkBA,K,EAAO;AACtB,gBAAIc,aAAa,IAAIhB,UAAJ,EAAjB;AACAgB,uBAAWC,aAAX,CAAyBC,aAAaC,OAAb,CAAqB,aAArB,CAAzB,EAA6DjB,KAA7D;AACH;;;2CAgByB;AACtB,gBAAID,SAASiB,aAAaC,OAAb,CAAqB,aAArB,CAAb;AACA,gBAAIC,gBAAgBf,SAASC,QAAT,GAAoBC,GAApB,CAAwB,WAAWN,MAAX,GAAoB,QAA5C,CAApB;AACAmB,0BAAcC,EAAd,CAAiB,OAAjB,EAA0B,UAAUC,IAAV,EAAgB;AACtCnB,gCAAgBoB,yBAAhB,CAA0CD,KAAKE,GAAL,EAA1C;AACH,aAFD;AAGH","file":"CycleModel-compiled.js","sourcesContent":["class CycleModel {\r\n    static createCycle(event) {\r\n        let savedCycle = new CycleModel();\r\n        savedCycle.saveUserCycle(localStorage.getItem('currentUser'),event);\r\n    }\r\n\r\n    saveUserCycle(userId,event) {\r\n        cycleController.getDataForCycle();\r\n        firebase.database().ref('users/' + userId).update({\r\n            cycle: {\r\n                \"workTime\": cycleController.workTime,\r\n                \"workIteration\": cycleController.workIteration,\r\n                \"shortBreak\": cycleController.shortBreak,\r\n                \"longBreak\": cycleController.longBreak\r\n            }\r\n        });\r\n\r\n        Settings.notifyAboutSuccessfulSave(event);\r\n    }\r\n\r\n    static receiveCycleData() {\r\n        let userId = localStorage.getItem('currentUser');\r\n        let cycleReceiver = firebase.database().ref('users/' + userId + '/cycle');\r\n        cycleReceiver.on('value', function (data) {\r\n            cycleController.receiveCycleDataForRender(data.val());\r\n        });\r\n    }\r\n}\r\n"]}