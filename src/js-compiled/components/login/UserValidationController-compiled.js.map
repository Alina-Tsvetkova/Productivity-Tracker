{"version":3,"sources":["../../../../app/components/login/UserValidationController.js"],"names":["UserValidationController","Settings","downloadSettings","ElementsListener","listenToEvents","document","getElementsByClassName","registrationController","checkUserInfo","cancelRegistration","event","preventDefault","userValidationModel","openSessionForUser","errorCode","loginObject","userValidationController","getLogInObject","k","logInFields","length","classManager","removeClass","passwordField","loginField","registrationView","addBorderToInvalidInput","addInvalidField","inputGroups"],"mappings":";;;;;;IAAMA,wB;;;;;;;2CAUiB;AACfC,qBAASC,gBAAT;AACH;;;oDAE2B;AACxBC,6BAAiBC,cAAjB,CAAgC,OAAhC,EAAyCC,SAASC,sBAAT,CAAgC,gBAAhC,CAAzC,EAA4FC,uBAAuBC,aAAnH;AACAL,6BAAiBC,cAAjB,CAAgC,OAAhC,EAAyCC,SAASC,sBAAT,CAAgC,yBAAhC,CAAzC,EAAqGC,uBAAuBE,kBAA5H;AACH;;;0CAEiBC,K,EAAO;AACrBA,kBAAMC,cAAN;AACAC,gCAAoBC,kBAApB;AACH;;;4CAEmBC,S,EAAW;AAC3B,gBAAIC,cAAcC,yBAAyBC,cAA3C;AACA,iBAAK,IAAIC,IAAI,CAAb,EAAgBA,IAAIH,YAAYI,WAAZ,CAAwBC,MAA5C,EAAoDF,GAApD,EAAyD;AACrDG,6BAAaC,WAAb,CAAyBP,YAAYI,WAAZ,CAAwBD,CAAxB,CAAzB,EAAqD,aAArD;AACH;AACDG,yBAAaC,WAAb,CAAyBP,YAAYQ,aAArC,EAAoD,eAApD;AACAF,yBAAaC,WAAb,CAAyBP,YAAYS,UAArC,EAAiD,eAAjD;;AAEA,gBAAIV,aAAa,qBAAjB,EAAwC;AACpCW,iCAAiBC,uBAAjB,CAAyC,iBAAzC,EAA4D,CAA5D;AACAD,iCAAiBE,eAAjB,CAAiCZ,YAAYQ,aAA7C;AACH;AACD,gBAAIT,aAAa,qBAAjB,EAAwC;AACpCW,iCAAiBC,uBAAjB,CAAyC,iBAAzC,EAA4D,CAA5D;AACAD,iCAAiBE,eAAjB,CAAiCZ,YAAYS,UAA7C;AACH;AACJ;;;4BAvCoB;AACjB,mBAAO;AACHA,4BAAYnB,SAASC,sBAAT,CAAgC,cAAhC,EAAgD,CAAhD,CADT;AAEHiB,+BAAelB,SAASC,sBAAT,CAAgC,cAAhC,EAAgD,CAAhD,CAFZ;AAGHsB,6BAAavB,SAASC,sBAAT,CAAgC,cAAhC,CAHV;AAIHa,6BAAad,SAASC,sBAAT,CAAgC,iBAAhC;AAJV,aAAP;AAMH;;;;;;AAmCL,IAAIU,2BAA2B,IAAIhB,wBAAJ,EAA/B","file":"UserValidationController-compiled.js","sourcesContent":["class UserValidationController {\r\n    get getLogInObject() {\r\n        return {\r\n            loginField: document.getElementsByClassName('for-username')[0],\r\n            passwordField: document.getElementsByClassName('for-password')[0],\r\n            inputGroups: document.getElementsByClassName('input-groups'),\r\n            logInFields: document.getElementsByClassName('fail-validation')\r\n        }\r\n    }\r\n\r\n    successfulSignIn() {\r\n        Settings.downloadSettings();\r\n    }\r\n\r\n    subscribeValidationEvents() {\r\n        ElementsListener.listenToEvents('click', document.getElementsByClassName('submit-sign-up'), registrationController.checkUserInfo);\r\n        ElementsListener.listenToEvents('click', document.getElementsByClassName('close-registration-form'), registrationController.cancelRegistration);\r\n    }\r\n\r\n    checkLoginAndPass(event) {\r\n        event.preventDefault();\r\n        userValidationModel.openSessionForUser();\r\n    }\r\n\r\n    proceedSignInErrors(errorCode) {\r\n        let loginObject = userValidationController.getLogInObject;\r\n        for (let k = 0; k < loginObject.logInFields.length; k++) {\r\n            classManager.removeClass(loginObject.logInFields[k], 'no-validate');\r\n        }\r\n        classManager.removeClass(loginObject.passwordField, 'invalid-field');\r\n        classManager.removeClass(loginObject.loginField, 'invalid-field');\r\n\r\n        if (errorCode == 'auth/wrong-password') {\r\n            registrationView.addBorderToInvalidInput('fail-validation', 1);\r\n            registrationView.addInvalidField(loginObject.passwordField);\r\n        }\r\n        if (errorCode == 'auth/user-not-found') {\r\n            registrationView.addBorderToInvalidInput('fail-validation', 0);\r\n            registrationView.addInvalidField(loginObject.loginField);\r\n        }\r\n    }\r\n}\r\n\r\nlet userValidationController = new UserValidationController();"]}