{"version":3,"sources":["../../../../app/components/registration/RegistrationController.js"],"names":["RegistrationController","event","preventDefault","signUpValidator","registrationController","getSignUpValidator","loginField","value","passwordField","registrationModel","createUserInDB","registrationView","warnToFillBothFields","classManager","removeClass","document","getElementsByClassName","location","reload","errorCode","k","failBlocks","length","addBorderToInvalidInput","addInvalidField","downloadCompleteSignUp","inputGroups"],"mappings":";;;;;;IAAMA,sB;;;;;;;sCAUYC,K,EAAO;AACjBA,kBAAMC,cAAN;AACA,gBAAIC,kBAAkBC,uBAAuBC,kBAA7C;AACA,gBAAIF,gBAAgBG,UAAhB,CAA2BC,KAA3B,IAAoC,EAApC,IAA0CJ,gBAAgBK,aAAhB,CAA8BD,KAA9B,IAAuC,EAArF,EAAyF;AACrFE,kCAAkBC,cAAlB;AACH,aAFD,MAEO;AACHC,iCAAiBC,oBAAjB;AACH;AACJ;;;2CAEkBX,K,EAAO;AACtBA,kBAAMC,cAAN;AACAW,yBAAaC,WAAb,CAAyBC,SAASC,sBAAT,CAAgC,mBAAhC,EAAqD,CAArD,CAAzB,EAAkF,8BAAlF;AACH;;;+CAEsB;AACnBH,yBAAaC,WAAb,CAAyBC,SAASC,sBAAT,CAAgC,0BAAhC,EAA4D,CAA5D,CAAzB,EAAyF,6BAAzF;AACAC,qBAASC,MAAT;AACH;;;kDAEyBC,S,EAAW;AACjC,gBAAIhB,kBAAkBC,uBAAuBC,kBAA7C;AACA,iBAAK,IAAIe,IAAI,CAAb,EAAgBA,IAAIjB,gBAAgBkB,UAAhB,CAA2BC,MAA/C,EAAuDF,GAAvD,EAA4D;AACxDP,6BAAaC,WAAb,CAAyBX,gBAAgBkB,UAAhB,CAA2BD,CAA3B,CAAzB,EAAwD,aAAxD;AACH;AACDP,yBAAaC,WAAb,CAAyBX,gBAAgBK,aAAzC,EAAwD,eAAxD;AACAK,yBAAaC,WAAb,CAAyBX,gBAAgBG,UAAzC,EAAqD,eAArD;;AAEA,gBAAIa,aAAa,2BAAjB,EAA8C;AAC1CR,iCAAiBY,uBAAjB,CAAyC,mBAAzC,EAA8D,CAA9D,EAAiEpB,gBAAgBkB,UAAjF,EAA6F,wDAA7F;AACAV,iCAAiBa,eAAjB,CAAiCrB,gBAAgBG,UAAjD;AACH;AACD,gBAAIa,aAAa,oBAAjB,EAAuC;AACnCR,iCAAiBY,uBAAjB,CAAyC,mBAAzC,EAA8D,CAA9D,EAAiEpB,gBAAgBkB,UAAjF,EAA6F,0CAA7F;AACAV,iCAAiBa,eAAjB,CAAiCrB,gBAAgBK,aAAjD;AACH;AACJ;;;8CAEsB;AACnBK,yBAAaC,WAAb,CAAyBC,SAASC,sBAAT,CAAgC,mBAAhC,EAAqD,CAArD,CAAzB,EAAkF,8BAAlF;AACAL,6BAAiBc,sBAAjB;AACH;;;4BAlDwB;AACrB,mBAAO;AACHnB,4BAAYS,SAASC,sBAAT,CAAgC,OAAhC,EAAyC,CAAzC,CADT;AAEHR,+BAAeO,SAASC,sBAAT,CAAgC,UAAhC,EAA4C,CAA5C,CAFZ;AAGHU,6BAAaX,SAASC,sBAAT,CAAgC,oBAAhC,CAHV;AAIHK,4BAAYN,SAASC,sBAAT,CAAgC,mBAAhC;AAJT,aAAP;AAMH;;;;;;AA+CL,IAAIZ,yBAAyB,IAAIJ,sBAAJ,EAA7B","file":"RegistrationController-compiled.js","sourcesContent":["class RegistrationController {\r\n    get getSignUpValidator() {\r\n        return {\r\n            loginField: document.getElementsByClassName('email')[0],\r\n            passwordField: document.getElementsByClassName('password')[0],\r\n            inputGroups: document.getElementsByClassName('registration-field'),\r\n            failBlocks: document.getElementsByClassName('registration-fail')\r\n        }\r\n    }\r\n\r\n    checkUserInfo(event) {\r\n        event.preventDefault();\r\n        let signUpValidator = registrationController.getSignUpValidator;\r\n        if (signUpValidator.loginField.value != '' && signUpValidator.passwordField.value != '') {\r\n            registrationModel.createUserInDB();\r\n        } else {\r\n            registrationView.warnToFillBothFields();\r\n        }\r\n    }\r\n\r\n    cancelRegistration(event) {\r\n        event.preventDefault();\r\n        classManager.removeClass(document.getElementsByClassName('form-registration')[0], 'form-registration-appearance');\r\n    }\r\n\r\n    submitCompleteSignUp() {\r\n        classManager.removeClass(document.getElementsByClassName('sign-up-complete-wrapper')[0], 'sign-up-complete-appearance');\r\n        location.reload();\r\n    }\r\n\r\n    proceedRegistrationErrors(errorCode) {\r\n        let signUpValidator = registrationController.getSignUpValidator;\r\n        for (let k = 0; k < signUpValidator.failBlocks.length; k++) {\r\n            classManager.removeClass(signUpValidator.failBlocks[k], 'no-validate');\r\n        }\r\n        classManager.removeClass(signUpValidator.passwordField, 'invalid-field');\r\n        classManager.removeClass(signUpValidator.loginField, 'invalid-field');\r\n\r\n        if (errorCode == 'auth/email-already-in-use') {\r\n            registrationView.addBorderToInvalidInput('registration-fail', 0, signUpValidator.failBlocks, \"The email address is already in use by another account\");\r\n            registrationView.addInvalidField(signUpValidator.loginField);\r\n        }\r\n        if (errorCode == 'auth/weak-password') {\r\n            registrationView.addBorderToInvalidInput('registration-fail', 1, signUpValidator.failBlocks, \"Password should be at least 6 characters\");\r\n            registrationView.addInvalidField(signUpValidator.passwordField);\r\n        }\r\n    }\r\n\r\n    successUserCreation () {\r\n        classManager.removeClass(document.getElementsByClassName('form-registration')[0], 'form-registration-appearance');\r\n        registrationView.downloadCompleteSignUp();\r\n    }\r\n\r\n}\r\n\r\nlet registrationController = new RegistrationController();"]}